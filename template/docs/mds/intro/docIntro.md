# 创建文档与示例

> 熟悉[目录结构](#/intro/dirIntro)有助于理解该文档。<br>
> 如非特别声明，以下路径都以 _docs_ 做为根目录

## 启动文档
* 运行命令
```base
npm run dev
```
* 文档服务启动完成后用浏览器打开 _http://localhost:port_ 即可

> 示例已经嵌入到文档页面中的模拟器里，所以也可直接用于开发，
> 你也可以直接打开示例页面： [http://localhost:port/demo](/demo)

## 文档配置文件 _doc.config.js_
该文件是文档的唯一配置文件，你在这里写下的配置会影响到
* 文档的菜单和路由
* 示例的菜单和路由
让我们先来看看配置项
```js
{
    // nav 代表菜单，因为菜单和路由紧密相关，所以这项配置也影响了路由
    nav: [{
            // 菜单名，会显示到菜单，可省略
            name: '开发指南',
            // 分组
            groups: [{
                // 分组名，会显示到菜单，可省略
                // name: '分组1',
                // 菜单项集合，会显示到菜单，并且生成对应的路由
                list: [{
                    // 菜单所对应的路由，同时也表示页面文件路径
                    path: '/intro',
                    // 菜单标题，副标题用-隔开：主标题 - 副标题
                    title: '项目介绍',
                    // 如果noExample设为true，代表这个页面没有独立示例，将不会生成示例菜单和路由
                    noExample: true
                }, {
                    path: '/intro/dirIntro',
                    title: '目录结构',
                    noExample: true
                }, {
                    path: '/intro/docIntro',
                    title: '创建文档与示例',
                    noExample: true
                }, {
                    path: '/todo',
                    title: 'TODO',
                    noExample: true
                }]
            }]
        }]
}

```
> `项目介绍` 和 `TODO` 页面是预设的路由，所以path并没有对应到它们的文件目录，他们分别对应的文件是项目根目录的 _README.md_ 和 _TODO.md_。还有一个预设页面是示例的home页面，只要示例页面的路由没有匹配成功，都会定位到这个页面，它对应的文件路径是 _demos/home.vue_

> 工作原理：<br>
路由：在webpack启动服务前，会专门启动一个build-entry任务，该任务会递归遍历出 _demos_ 中的所有vue文件和 _mds_ 中的所有md文件，将其路径收集起来，生成这两个目录下的 _index.js_ 文件。服务启动后（虽然是在同一个服务启动，但文档和示例是从两个入口进入，所以可以说是两个独立的网页），会运行注册路由的函数，该函数会遍历 _doc.config.js_ 的 `nav`, 根据 `path` 去刚才生成的 _index.js_ 找到对应的项，处理后输出路由。 <br>
菜单：文档和示例的菜单组件数据来源都是遍历 _doc.config.js_ 的 `nav` 得到，唯一不同的是示例会将 `noExample: true` 的数据过滤掉。

## 创建
* 在 _doc.config.js_ 加入菜单项
* 根据菜单项的路径在mds加入文档（md文件）
* 根据菜单项的路径在demos加入示例（vue文件），无示例可忽略这步

## 文档模板
为了更清晰的阐述组件的用法，组件文档至少包含以下几点
* 组件使用场景、效果介绍
* 组件基础用法，必须有示例代码，最好能够配合示例代码给出展示效果
* 组件参数说明（至少包括参数名、说明、类型、可选值和默认值几点，推荐使用表格）

可参考如下模板
```markdown
# 组件名
组件使用场景、效果介绍
## 基础用法
组件效果、示例代码
## 参数说明
参数       | 说明             | 类型      | 可选值                                 | 默认值
-------- | -------------- | ------- | ----------------------------------- | -----
type     | 右侧元素类型             | String  | text,input                | text
label    | 左侧显示内容         | String | --                             | --
```
